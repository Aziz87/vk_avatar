(this.webpackJsonpavatar=this.webpackJsonpavatar||[]).push([[0],{245:function(e,t,n){e.exports=n.p+"static/media/persik.4e1ec840.png"},329:function(e,t,n){e.exports=n(628)},616:function(e,t,n){},628:function(e,t,n){"use strict";n.r(t);n(94),n(159),n(130),n(131),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(179),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196);var a=n(3),o=n.n(a),s=n(145),r=n.n(s),c=n(48),i=n.n(c),l=(n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(102),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(384),n(385),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),n(421),n(422),n(423),n(424),n(425),n(426),n(427),n(428),n(429),n(430),n(431),n(432),n(433),n(434),n(435),n(436),n(437),n(438),n(439),n(440),n(441),n(442),n(443),n(444),n(445),n(446),n(447),n(448),n(449),n(451),n(452),n(453),n(454),n(455),n(456),n(457),n(458),n(459),n(460),n(461),n(462),n(463),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(478),n(479),n(480),n(481),n(482),n(483),n(484),n(485),n(486),n(487),n(488),n(489),n(490),n(491),n(492),n(493),n(494),n(495),n(497),n(498),n(499),n(500),n(501),n(502),n(503),n(504),n(505),n(506),n(507),n(508),n(509),n(510),n(511),n(512),n(513),n(514),n(515),n(516),n(517),n(518),n(519),n(520),n(521),n(522),n(523),n(524),n(525),n(526),n(527),n(528),n(529),n(142),n(530),n(531),n(532),n(533),n(534),n(535),n(536),n(538),n(539),n(540),n(541),n(542),n(543),n(544),n(545),n(546),n(547),n(548),n(549),n(550),n(551),n(552),n(553),n(555),n(556),n(557),n(558),n(559),n(560),n(561),n(562),n(563),n(564),n(565),n(566),n(567),n(568),n(570),n(571),n(572),n(573),n(574),n(575),n(576),n(577),n(578),n(579),n(580),n(581),n(582),n(583),n(584),n(586),n(227),n(66)),p=n.n(l),u=n(93),d=n(115),m=n(249),h=n.n(m),f=n(248),b=n.n(f),g=(n(588),n(589),n(242)),v=n.n(g),k=n(241),w=n.n(k),E=function(e){var t=e.id,n=e.go,a=e.fetchedUser,s=e.hash;return o.a.createElement("div",{id:t,style:{height:"100%",padding:"10px"}},a&&o.a.createElement("div",{style:{justifyContent:"center",display:"flex",padding:"10px",margin:"10px",alignItems:"center"}},o.a.createElement("img",{style:{width:"calc(95vmin)","border-radius":"3%"},alt:"img",src:s})),o.a.createElement(w.a,{title:"",style:{}},o.a.createElement(v.a,{size:"xl",level:"1",onClick:n,"data-to":"persik",style:{}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e")))},y=n(147),j=n(246),A=n.n(j),O=n(146),x=n.n(O),_=n(247),I=n.n(_),K=n(243),W=n.n(K),C=n(244),S=n.n(C),M=n(245),P=n.n(M),U=(n(616),Object(y.b)()),V=function(e){return o.a.createElement(A.a,{id:e.id},o.a.createElement(x.a,{left:o.a.createElement(I.a,{onClick:e.go,"data-to":"home"},U===y.a?o.a.createElement(W.a,null):o.a.createElement(S.a,null))},"Persik"),o.a.createElement("img",{className:"Persik",src:P.a,alt:"Persik The Cat"}))};function R(){try{return decodeURIComponent(window.location.hash.split("#")[1])}catch(e){console.log(e)}}function T(){return(T=Object(d.a)(p.a.mark((function e(){var t,n,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ppposer2"),e.next=3,i.a.sendPromise("VKWebAppCallAPIMethod",{method:"photos.getWallUploadServer",request_id:"32test",params:{v:"5.102",access_token:window.token}});case 3:t=e.sent,console.log({upload_server:t}),n=t.response,n.upload_url,n.user_id,(a=new XMLHttpRequest).open("GET","https://art.publes.ru/upload",!0),a.setRequestHeader("Accept","application/json, text/plain, */*"),a.setRequestHeader("Sec-Fetch-Mode","cors"),a.setRequestHeader("User-Agent","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 YaBrowser/19.9.0.1768 Yowser/2.5 Safari/537.36"),a.responseType="json",a.onload=function(){var e=a.status;200==e?console.log(a.response):console.log(e)},a.onerror=function(e){console.log(e)},a.send();case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i.a.send("VKWebAppInit",{});var q=function(){var e=Object(a.useState)("home"),t=Object(u.a)(e,2),n=t[0],s=t[1],r=Object(a.useState)(null),c=Object(u.a)(r,2),l=c[0],m=c[1],f=Object(a.useState)(null),g=Object(u.a)(f,2),v=(g[0],g[1]),k=Object(a.useState)(o.a.createElement(b.a,{size:"large"})),w=Object(u.a)(k,2),y=w[0],j=w[1];function A(){return O.apply(this,arguments)}function O(){return(O=Object(d.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s("home");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log("444"),Object(a.useEffect)((function(){function e(){return(e=Object(d.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.sendPromise("VKWebAppGetUserInfo");case 2:t=e.sent,m(t),j(null);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i.a.subscribe((function(e){var t=e.detail,n=t.type,a=t.data;if("VKWebAppUpdateConfig"===n){var o=document.createAttribute("scheme");o.value=a.scheme?a.scheme:"client_light",document.body.attributes.setNamedItem(o)}"VKWebAppAccessTokenReceived"===n&&(v(a.access_token),window.token=a.access_token,console.log("post1"),function(){T.apply(this,arguments)}(),console.log("post"))})),i.a.send("VKWebAppGetAuthToken",{app_id:7177213,scope:"wall,photos"}),function(){e.apply(this,arguments)}()}),[]),o.a.createElement(h.a,{activePanel:n,popout:y},o.a.createElement(E,{id:"home",fetchedUser:l,go:A,hash:R()}),o.a.createElement(V,{id:"persik",go:A}))};i.a.send("VKWebAppInit"),r.a.render(o.a.createElement(q,null),document.getElementById("root"))}},[[329,1,2]]]);
//# sourceMappingURL=main.44bcbb89.chunk.js.map